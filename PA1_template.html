<!DOCTYPE html>
<html>

<head>

<meta charset="utf-8">
<title>README_RR_Course_Project_1</title>


<style type="text/css">
body {
  font-family: Helvetica, arial, sans-serif;
  font-size: 14px;
  line-height: 1.6;
  padding-top: 10px;
  padding-bottom: 10px;
  background-color: white;
  padding: 30px; }

body > *:first-child {
  margin-top: 0 !important; }
body > *:last-child {
  margin-bottom: 0 !important; }

a {
  color: #4183C4; }
a.absent {
  color: #cc0000; }
a.anchor {
  display: block;
  padding-left: 30px;
  margin-left: -30px;
  cursor: pointer;
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0; }

h1, h2, h3, h4, h5, h6 {
  margin: 20px 0 10px;
  padding: 0;
  font-weight: bold;
  -webkit-font-smoothing: antialiased;
  cursor: text;
  position: relative; }

h1:hover a.anchor, h2:hover a.anchor, h3:hover a.anchor, h4:hover a.anchor, h5:hover a.anchor, h6:hover a.anchor {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA09pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoMTMuMCAyMDEyMDMwNS5tLjQxNSAyMDEyLzAzLzA1OjIxOjAwOjAwKSAgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUM2NjlDQjI4ODBGMTFFMTg1ODlEODNERDJBRjUwQTQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUM2NjlDQjM4ODBGMTFFMTg1ODlEODNERDJBRjUwQTQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5QzY2OUNCMDg4MEYxMUUxODU4OUQ4M0REMkFGNTBBNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5QzY2OUNCMTg4MEYxMUUxODU4OUQ4M0REMkFGNTBBNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PsQhXeAAAABfSURBVHjaYvz//z8DJYCRUgMYQAbAMBQIAvEqkBQWXI6sHqwHiwG70TTBxGaiWwjCTGgOUgJiF1J8wMRAIUA34B4Q76HUBelAfJYSA0CuMIEaRP8wGIkGMA54bgQIMACAmkXJi0hKJQAAAABJRU5ErkJggg==) no-repeat 10px center;
  text-decoration: none; }

h1 tt, h1 code {
  font-size: inherit; }

h2 tt, h2 code {
  font-size: inherit; }

h3 tt, h3 code {
  font-size: inherit; }

h4 tt, h4 code {
  font-size: inherit; }

h5 tt, h5 code {
  font-size: inherit; }

h6 tt, h6 code {
  font-size: inherit; }

h1 {
  font-size: 28px;
  color: black; }

h2 {
  font-size: 24px;
  border-bottom: 1px solid #cccccc;
  color: black; }

h3 {
  font-size: 18px; }

h4 {
  font-size: 16px; }

h5 {
  font-size: 14px; }

h6 {
  color: #777777;
  font-size: 14px; }

p, blockquote, ul, ol, dl, li, table, pre {
  margin: 15px 0; }

hr {
  background: transparent url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAYAAACtBE5DAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OENDRjNBN0E2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OENDRjNBN0I2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Q0NGM0E3ODY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Q0NGM0E3OTY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqqezsUAAAAfSURBVHjaYmRABcYwBiM2QSA4y4hNEKYDQxAEAAIMAHNGAzhkPOlYAAAAAElFTkSuQmCC) repeat-x 0 0;
  border: 0 none;
  color: #cccccc;
  height: 4px;
  padding: 0;
}

body > h2:first-child {
  margin-top: 0;
  padding-top: 0; }
body > h1:first-child {
  margin-top: 0;
  padding-top: 0; }
  body > h1:first-child + h2 {
    margin-top: 0;
    padding-top: 0; }
body > h3:first-child, body > h4:first-child, body > h5:first-child, body > h6:first-child {
  margin-top: 0;
  padding-top: 0; }

a:first-child h1, a:first-child h2, a:first-child h3, a:first-child h4, a:first-child h5, a:first-child h6 {
  margin-top: 0;
  padding-top: 0; }

h1 p, h2 p, h3 p, h4 p, h5 p, h6 p {
  margin-top: 0; }

li p.first {
  display: inline-block; }
li {
  margin: 0; }
ul, ol {
  padding-left: 30px; }

ul :first-child, ol :first-child {
  margin-top: 0; }

dl {
  padding: 0; }
  dl dt {
    font-size: 14px;
    font-weight: bold;
    font-style: italic;
    padding: 0;
    margin: 15px 0 5px; }
    dl dt:first-child {
      padding: 0; }
    dl dt > :first-child {
      margin-top: 0; }
    dl dt > :last-child {
      margin-bottom: 0; }
  dl dd {
    margin: 0 0 15px;
    padding: 0 15px; }
    dl dd > :first-child {
      margin-top: 0; }
    dl dd > :last-child {
      margin-bottom: 0; }

blockquote {
  border-left: 4px solid #dddddd;
  padding: 0 15px;
  color: #777777; }
  blockquote > :first-child {
    margin-top: 0; }
  blockquote > :last-child {
    margin-bottom: 0; }

table {
  padding: 0;border-collapse: collapse; }
  table tr {
    border-top: 1px solid #cccccc;
    background-color: white;
    margin: 0;
    padding: 0; }
    table tr:nth-child(2n) {
      background-color: #f8f8f8; }
    table tr th {
      font-weight: bold;
      border: 1px solid #cccccc;
      margin: 0;
      padding: 6px 13px; }
    table tr td {
      border: 1px solid #cccccc;
      margin: 0;
      padding: 6px 13px; }
    table tr th :first-child, table tr td :first-child {
      margin-top: 0; }
    table tr th :last-child, table tr td :last-child {
      margin-bottom: 0; }

img {
  max-width: 100%; }

span.frame {
  display: block;
  overflow: hidden; }
  span.frame > span {
    border: 1px solid #dddddd;
    display: block;
    float: left;
    overflow: hidden;
    margin: 13px 0 0;
    padding: 7px;
    width: auto; }
  span.frame span img {
    display: block;
    float: left; }
  span.frame span span {
    clear: both;
    color: #333333;
    display: block;
    padding: 5px 0 0; }
span.align-center {
  display: block;
  overflow: hidden;
  clear: both; }
  span.align-center > span {
    display: block;
    overflow: hidden;
    margin: 13px auto 0;
    text-align: center; }
  span.align-center span img {
    margin: 0 auto;
    text-align: center; }
span.align-right {
  display: block;
  overflow: hidden;
  clear: both; }
  span.align-right > span {
    display: block;
    overflow: hidden;
    margin: 13px 0 0;
    text-align: right; }
  span.align-right span img {
    margin: 0;
    text-align: right; }
span.float-left {
  display: block;
  margin-right: 13px;
  overflow: hidden;
  float: left; }
  span.float-left span {
    margin: 13px 0 0; }
span.float-right {
  display: block;
  margin-left: 13px;
  overflow: hidden;
  float: right; }
  span.float-right > span {
    display: block;
    overflow: hidden;
    margin: 13px auto 0;
    text-align: right; }

code, tt {
  margin: 0 2px;
  padding: 0 5px;
  white-space: nowrap;
  border: 1px solid #eaeaea;
  background-color: #f8f8f8;
  border-radius: 3px; }

pre code {
  margin: 0;
  padding: 0;
  white-space: pre;
  border: none;
  background: transparent; }

.highlight pre {
  background-color: #f8f8f8;
  border: 1px solid #cccccc;
  font-size: 13px;
  line-height: 19px;
  overflow: auto;
  padding: 6px 10px;
  border-radius: 3px; }

pre {
  background-color: #f8f8f8;
  border: 1px solid #cccccc;
  font-size: 13px;
  line-height: 19px;
  overflow: auto;
  padding: 6px 10px;
  border-radius: 3px; }
  pre code, pre tt {
    background-color: transparent;
    border: none; }

sup {
    font-size: 0.83em;
    vertical-align: super;
    line-height: 0;
}
* {
	-webkit-print-color-adjust: exact;
}
@media screen and (min-width: 914px) {
    body {
        width: 854px;
        margin:0 auto;
    }
}
@media print {
	table, pre {
		page-break-inside: avoid;
	}
	pre {
		word-wrap: break-word;
	}
}
</style>


</head>

<body>

<h1 id="toc_0">Reproducible Research Course Project 1</h1>

<h2 id="toc_1">Introduction</h2>

<p>It is now possible to collect a large amount of data about personal movement using activity monitoring devices such as a Fitbit, Nike Fuelband, or Jawbone Up. These type of devices are part of the ‚Äúquantified self‚Äù movement ‚Äì a group of enthusiasts who take measurements about themselves regularly to improve their health, to find patterns in their behavior, or because they are tech geeks. But these data remain under-utilized both because the raw data are hard to obtain and there is a lack of statistical methods and software for processing and interpreting the data.</p>

<p>This assignment makes use of data from a personal activity monitoring device. This device collects data at 5 minute intervals through out the day. The data consists of two months of data from an anonymous individual collected during the months of October and November, 2012 and include the number of steps taken in 5 minute intervals each day.</p>

<p>The variables included in this dataset are:</p>

<ul>
<li>steps: Number of steps taking in a 5-minute interval (missing values are coded as ùôΩùô∞)</li>
<li>date: The date on which the measurement was taken in YYYY-MM-DD format</li>
<li>interval: Identifier for the 5-minute interval in which measurement was taken</li>
</ul>

<p>The dataset is stored in a comma-separated-value (CSV) file and there are a total of 17,568 observations in this dataset.</p>

<h2 id="toc_2">Description of the work and questions adressed</h2>

<ol>
<li>Loading and preprocessing the data</li>
<li>What is mean total number of steps taken per day ?</li>
<li>What is the average daily activity pattern ?</li>
<li>Imputing missing values</li>
<li>Are there differences in activity patterns between weekdays and weekends?</li>
</ol>

<h2 id="toc_3">Description of the code : RR - Course Project 1.R</h2>

<h3 id="toc_4">1. Loading and preprocessing the data</h3>

<p>As I am french, I need to change the R setting in order to get the weekdays in english</p>

<div><pre><code class="language-none">curr_locale &lt;- Sys.getlocale(&quot;LC_TIME&quot;)  ## To save my local setting
Sys.setlocale(&quot;LC_TIME&quot;,&quot;en_US.UTF-8&quot;)   ## To get US environment 
Sys.setlocale(&quot;LC_TIME&quot;,curr_locale)     ## To come back to local setting</code></pre></div>

<p>Set libraries</p>

<div><pre><code class="language-none">library(plyr)
library(ggplot2)
library(&quot;RColorBrewer&quot;)
library(&quot;lattice&quot;)</code></pre></div>

<p>Creates a &quot;data&quot; directory</p>

<div><pre><code class="language-none">if (!file.exists(&quot;data&quot;)){
        dir.create(&quot;data&quot;)
}</code></pre></div>

<p>No need to unzip the file which is already a csv file.    </p>

<p>Creates data table with the read.csv function</p>

<div><pre><code class="language-none">data &lt;- data.table(read.csv(&quot;./data/activity.csv&quot;, sep = &quot;,&quot;,
                                    stringsAsFactors=FALSE))

str(data)
Classes ‚Äòdata.table‚Äô and &#39;data.frame&#39;:  17568 obs. of  3 variables:
$ steps   : int  NA NA NA NA NA NA NA NA NA NA ...
$ date    : chr  &quot;2012-10-01&quot; &quot;2012-10-01&quot; &quot;2012-10-01&quot; &quot;2012-10-01&quot; ...
$ interval: int  0 5 10 15 20 25 30 35 40 45 ...</code></pre></div>

<p>Transforms the &quot;date&quot; variable into Date format</p>

<div><pre><code class="language-none">data$date &lt;- as.Date(data$date) 

str(data)
Classes ‚Äòdata.table‚Äô and &#39;data.frame&#39;:  17568 obs. of  3 variables:
$ steps   : int  NA NA NA NA NA NA NA NA NA NA ...
$ date    : Date, format: &quot;2012-10-01&quot; &quot;2012-10-01&quot; &quot;2012-10-01&quot; ...
$ interval: int  0 5 10 15 20 25 30 35 40 45 ...</code></pre></div>

<p>Creates a data ignoring missing data NA</p>

<div><pre><code class="language-none">noNAdata &lt;- na.omit(data) 

str(data)
Classes ‚Äòdata.table‚Äô and &#39;data.frame&#39;:  15264 obs. of  3 variables</code></pre></div>

<h3 id="toc_5">2. What is mean total number of steps taken per day?</h3>

<p>Computes the total number of steps taken per day</p>

<div><pre><code class="language-none">StepsByDay &lt;- tapply(noNAdata$steps, data$date, sum)</code></pre></div>

<p>Makes a histogram of the total number of steps taken each day</p>

<div><pre><code class="language-none">hist(StepsByDay, 
     main=&quot;Number of steps taken per day&quot;,
     breaks=10,
     xlab=&quot;Number of steps&quot;,
     col = brewer.pal(n=9,name = &quot;Oranges&quot;),
     xlim = c(0,25000),
     ylim = c(0,20))</code></pre></div>

<p><img src="https://github.com/pierrewinkel/RepData_PeerAssessment1/blob/master/Plot1.png" alt="Plot1.png"></p>

<p>Mean of the total number of steps taken per day</p>

<div><pre><code class="language-none">mean(StepsByDay)
[1] 10766.19</code></pre></div>

<p>Median of the total number of steps taken per day</p>

<div><pre><code class="language-none">median(StepsByDay)
[1] 10765</code></pre></div>

<p><strong>The mean of steps taken per day is 10766 and the median is 10765.</strong></p>

<h3 id="toc_6">3. What is mean total number of steps taken per day ?</h3>

<p>Computes average steps for each of 5-minute interval during a 24-hour period</p>

<div><pre><code class="language-none">IntervalMean &lt;- ddply(noNAdata,~interval, summarise, mean=mean(steps))</code></pre></div>

<p>Plots the 5-minute interval and the average number of steps taken, averaged across all days</p>

<div><pre><code class="language-none">graph &lt;- ggplot(data=IntervalMean, aes(x=interval, y=mean)) +
        geom_line(color = &quot;blue&quot;) +
        xlab(&quot;5-minute interval&quot;) +
        ylab(&quot;average number of steps taken&quot;) +
        ggtitle(&quot;Average number of steps taken by 5 minutes interval&quot;)
print(graph)</code></pre></div>

<p><img src="https://github.com/pierrewinkel/RepData_PeerAssessment1/blob/master/Plot2.png" alt="Plot2.png"></p>

<p>Which 5-minute interval contains the maximum number of steps ?</p>

<div><pre><code class="language-none">IntervalMean[which.max(IntervalMean$mean), ]
      interval     mean
  104      835 206.1698</code></pre></div>

<p><strong>The person&#39;s daily activity peaks around 8:35am at a mean of 206 steps.</strong></p>

<h3 id="toc_7">4. Imputing missing values</h3>

<p>Computes number of rows in activity data set with NA rows</p>

<div><pre><code class="language-none">sum(is.na(data$steps))
## [1] 2304</code></pre></div>

<p>Strategy : replacing NAs with the mean for the particular interval number.</p>

<p>Creates a new new data set (&quot;mergeddata&quot;) with imputed NA values as stated in strategy</p>

<div><pre><code class="language-none">mergeddata = merge(data, IntervalMean, by=&quot;interval&quot;)</code></pre></div>

<p>Get list of indexes where steps value = NA</p>

<div><pre><code class="language-none">NAindex &lt;- which(is.na(mergeddata$steps))</code></pre></div>

<p>Replace NA values in &quot;steps&quot; variable with value from &quot;mean&quot; variable</p>

<div><pre><code class="language-none">mergeddata$steps[NAindex] &lt;- mergeddata$mean[NAindex]</code></pre></div>

<p>Computes the total number of steps taken per day</p>

<div><pre><code class="language-none">NewStepsByDay &lt;- tapply(mergeddata$steps, mergeddata$date, sum)</code></pre></div>

<p>Makes a histogram of the total number of steps taken each day</p>

<div><pre><code class="language-none">hist(NewStepsByDay, 
     main=&quot;Number of steps taken per day&quot;,
     breaks=10,
     xlab=&quot;Number of steps&quot;,
     col = brewer.pal(n=9,name = &quot;Oranges&quot;),
     xlim = c(0,25000),
     ylim = c(0,25))</code></pre></div>

<p><img src="https://github.com/pierrewinkel/RepData_PeerAssessment1/blob/master/Plot3.png" alt="Plot3.png"></p>

<p>Mean of the total number of steps taken per day</p>

<div><pre><code class="language-none">mean(NewStepsByDay)
[1] 10766.19</code></pre></div>

<p>Median of the total number of steps taken per day</p>

<div><pre><code class="language-none">median(NewStepsByDay)
[1] 10766.19</code></pre></div>

<p><strong>These values (mean and median) does not differ from the estimates from the first part of the assignment.</strong></p>

<p><strong>The shape of the histogram remains the same as the histogram without missing values.</strong></p>

<p><strong>However, the frequency increased as expected.</strong></p>

<h3 id="toc_8">5. Are there differences in activity patterns between weekdays and weekends?</h3>

<p>Creates a factor variable weektime with two levels (weekday, weekend).</p>

<div><pre><code class="language-none">weektime &lt;- as.factor(ifelse(weekdays(mergeddata$date) %in% 
                           c(&quot;Saturday&quot;,&quot;Sunday&quot;),&quot;weekend&quot;, &quot;weekday&quot;))</code></pre></div>

<p>Creates a new column with weekend or weekday depending on weektime factor</p>

<div><pre><code class="language-none">mergeddata$daytype[weektime == &quot;weekend&quot;] &lt;- &quot;weekend&quot;
mergeddata$daytype[weektime == &quot;weekday&quot;] &lt;- &quot;weekday&quot;</code></pre></div>

<p>Computes the average number of steps taken, averaged for each 5-minute interval and for weekdays and weekends</p>

<div><pre><code class="language-none">meansteps &lt;- aggregate(steps ~ interval + daytype, mergeddata, mean)</code></pre></div>

<p>Makes a panel plot containing a time series plot of the 5-minute interval and the average number of steps taken, averaged across all weekday days or weekend days.</p>

<div><pre><code class="language-none">p &lt;- xyplot(steps ~ interval | daytype, data=meansteps,
            layout=c(1,2),
            type = &#39;l&#39;,
            main=&quot;Average Number of Steps, Weekdays vs. Weekend&quot;,
            xlab=&quot;5-Minute Interval (military time)&quot;,
            ylab=&quot;Average Number of Steps&quot;)
print (p)    </code></pre></div>

<p><img src="https://github.com/pierrewinkel/RepData_PeerAssessment1/blob/master/Plot4.png" alt="Plot4.png"></p>

<p><strong>The plot indicates that the person is generally more active  during the weekends.</strong></p>

<p><em>The document was prepared with MacDown version 0.6 on Mac OS X v10.11.2.</em></p>




</body>

</html>
